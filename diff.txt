diff --git a/rate_limiter.py b/rate_limiter.py
index 84ecf04..f572b9f 100644
--- a/rate_limiter.py
+++ b/rate_limiter.py
@@ -4,8 +4,7 @@ from collections import defaultdict
 
 class RateLimiter:
     """
-    Simple in-memory rate limiter.
-
+    Sliding-window rate limiter using list cleanup.
     Allows up to `limit` requests per `window_seconds` per user.
     """
 
@@ -15,22 +14,18 @@ class RateLimiter:
         self.requests = defaultdict(list)
 
     def allow_request(self, user_id: str) -> bool:
-        """
-        Returns True if the request is allowed, False otherwise.
-        """
-
         now = time.time()
 
-        # BUG 1: old requests are never cleaned up correctly
-        for ts in self.requests[user_id]:
-            if now - ts > self.window:
-                self.requests[user_id].remove(ts)
+        # Remove expired timestamps safely
+        self.requests[user_id] = [
+            ts for ts in self.requests[user_id]
+            if now - ts <= self.window
+        ]
 
-        # BUG 2: off-by-one error in limit check
-        if len(self.requests[user_id]) > self.limit:
+        # Enforce limit
+        if len(self.requests[user_id]) >= self.limit:
             return False
 
-        # BUG 3: timestamp added even when request is rejected
+        # Record allowed request
         self.requests[user_id].append(now)
-
         return True
